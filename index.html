<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8">
  <title>Calculadora de Manutenção e Reforma</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <!-- Tailwind CDN -->
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-slate-50 min-h-screen">
  <div class="max-w-4xl mx-auto mt-10 mb-20 p-6 bg-white rounded-3xl shadow-2xl border border-blue-100">
    <h1 class="text-3xl md:text-4xl font-extrabold text-blue-800 mb-6 tracking-tight">Calculadora de Manutenção e Reforma</h1>
    
    <!-- Formulário de Cadastro -->
    <form id="moduloForm" class="mb-8 space-y-4">
      <div class="flex flex-wrap gap-4">
        <div class="flex-1 min-w-[120px]">
          <label class="block text-blue-900 font-semibold mb-1">Qtd. de Vagas
            <input type="number" name="quantidade_vagas" value="4" min="1"
              class="w-full mt-1 rounded-xl border border-blue-200 px-3 py-2 shadow focus:outline-none focus:ring-2 focus:ring-blue-300 transition"/>
          </label>
        </div>
        <div class="flex-1 min-w-[120px]">
          <label class="block text-blue-900 font-semibold mb-1">Largura (m)
            <input type="number" step="0.01" name="largura_m" value="10"
              class="w-full mt-1 rounded-xl border border-blue-200 px-3 py-2 shadow focus:outline-none focus:ring-2 focus:ring-blue-300 transition"/>
          </label>
        </div>
        <div class="flex-1 min-w-[120px]">
          <label class="block text-blue-900 font-semibold mb-1">Comprimento (m)
            <input type="number" step="0.01" name="comprimento_m" value="5"
              class="w-full mt-1 rounded-xl border border-blue-200 px-3 py-2 shadow focus:outline-none focus:ring-2 focus:ring-blue-300 transition"/>
          </label>
        </div>
        <div class="flex-1 min-w-[150px]">
          <label class="block text-blue-900 font-semibold mb-1">Estado
            <select name="estado" class="w-full mt-1 rounded-xl border border-blue-200 px-3 py-2 shadow focus:outline-none focus:ring-2 focus:ring-blue-300">
              <option>Ruim</option>
              <option>Muito Ruim</option>
              <option>Condição Crítica</option>
            </select>
          </label>
        </div>
      </div>
      <div class="flex flex-wrap gap-4">
        <div class="flex-1 min-w-[120px]">
          <label class="block text-blue-900 font-semibold mb-1">Bases Comprometidas
            <input type="number" name="bases_comprometidas" value="0" min="0"
              class="w-full mt-1 rounded-xl border border-blue-200 px-3 py-2 shadow"/>
          </label>
        </div>
        <div class="flex-1 min-w-[120px]">
          <label class="block text-blue-900 font-semibold mb-1">Peças Removidas/Guardadas
            <input type="text" name="pecas_removidas"
              class="w-full mt-1 rounded-xl border border-blue-200 px-3 py-2 shadow"/>
          </label>
        </div>
        <div class="flex-1 min-w-[180px]">
          <label class="block text-blue-900 font-semibold mb-1">Observações
            <input type="text" name="observacoes"
              class="w-full mt-1 rounded-xl border border-blue-200 px-3 py-2 shadow"/>
          </label>
        </div>
        <div class="flex items-end">
          <button type="submit" class="px-6 py-3 rounded-2xl bg-blue-700 text-white font-bold shadow hover:bg-blue-800 transition">
            Adicionar Módulo
          </button>
        </div>
      </div>
    </form>
    
    <!-- Módulos cadastrados -->
    <div class="mb-5">
      <h2 class="text-xl font-semibold text-blue-700 mb-2">Módulos Cadastrados</h2>
      <div class="overflow-auto rounded-xl border border-blue-100 shadow">
        <table class="min-w-full text-base text-left bg-white">
          <thead>
            <tr class="bg-blue-50">
              <th class="py-2 px-3 font-bold">#</th>
              <th class="py-2 px-3 font-bold">Vagas</th>
              <th class="py-2 px-3 font-bold">Largura</th>
              <th class="py-2 px-3 font-bold">Comp.</th>
              <th class="py-2 px-3 font-bold">Estado</th>
              <th class="py-2 px-3 font-bold">Bases</th>
              <th class="py-2 px-3 font-bold">Peças</th>
              <th class="py-2 px-3 font-bold">Obs.</th>
              <th class="py-2 px-3 font-bold">Ações</th>
            </tr>
          </thead>
          <tbody id="modulosTable" class="divide-y divide-blue-100"></tbody>
        </table>
      </div>
    </div>
    <!-- Botões de Exportação/Importação -->
    <div class="flex flex-wrap gap-4">
      <button class="px-6 py-3 rounded-2xl bg-blue-600 text-white font-bold shadow hover:bg-blue-800 transition"
        onclick="exportarXML()">Exportar para XML</button>
      <label class="px-6 py-3 rounded-2xl bg-blue-100 text-blue-700 font-bold shadow hover:bg-blue-200 cursor-pointer transition">
        Importar XML
        <input type="file" id="importXml" style="display:none" onchange="importarXML(event)">
      </label>
    </div>
  </div>
  
    <!-- Modal de detalhamento de serviços -->
    <div id="servicosModal" class="fixed inset-0 z-40 bg-black bg-opacity-30 flex items-center justify-center hidden">
      <div class="bg-white rounded-2xl p-6 shadow-2xl w-full max-w-lg">
        <h2 class="text-2xl font-bold text-blue-800 mb-4">Detalhar Serviços do Módulo</h2>
        <form id="servicosForm" class="space-y-3">
          <div id="servicosCheckboxes" class="space-y-2"></div>
          <div>
            <label class="font-bold block mb-1">Peças Extras</label>
            <div id="pecasExtrasList" class="mb-2"></div>
            <button type="button" onclick="adicionarPecaExtraUI()" class="px-3 py-1 rounded-lg bg-blue-100 text-blue-800 font-semibold">Adicionar Peça</button>
          </div>
          <div class="flex justify-end gap-3 mt-4">
            <button type="button" onclick="fecharModalServicos()" class="px-4 py-2 rounded-lg bg-gray-200">Cancelar</button>
            <button type="submit" class="px-4 py-2 rounded-lg bg-blue-700 text-white font-bold">Salvar</button>
          </div>
        </form>
      </div>
    </div>
  </div>

  <!-- JS externo -->
  <script src="script.js"></script>
</body>
</html>
